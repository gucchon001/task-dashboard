# 開発手順書および必要仕様書一覧

## 1. 開発手順書

要件定義書で定めたスケジュール案に基づき、開発プロジェクトを以下のステップで進める。

### **フェーズ1: 環境構築・設計 (約1週間)**

1.  **インフラ設定の実施**
    * [ ] 管理対象の全PC (Win 11 Pro) で、リモート操作用の共通管理者アカウントを作成する。
    * [ ] 管理対象の全PCで、WinRMを有効化する (`winrm quickconfig`)。
    * [ ] 管理サーバー (Win Server 2019) で、管理対象PCを`TrustedHosts`に設定する。
    * [ ] 管理サーバーと管理対象PC間のWinRM接続をテストし、疎通を確認する。
    * [ ] NAS上に、設定ファイル用・データ用の共有フォルダを作成し、アクセス権を設定する。
2.  **開発環境の準備**
    * [ ] 管理サーバーにPythonをインストールする。
    * [ ] 必要なPythonライブラリ (`streamlit`, `pandas`, `pywinrm`等) をインストールする。
3.  **詳細設計書の作成**
    * [ ] 後述の「2. 必要仕様書一覧」に基づき、各仕様書を作成し、内容をFIXさせる。

### **フェーズ2: 開発 (約2週間)**

1.  **バックエンドロジックの実装**
    * [ ] `config.json` (設定) と `logs.db` (SQLite) の読み書きを行うデータ管理モジュールを作成する。
    * [ ] `pywinrm`を使用し、リモートPCのタスクを取得・作成・編集・削除・実行するコア機能モジュールを作成する。
    * [ ] Google Chat Webhook、Gemini APIと連携する外部連携モジュールを作成する。
2.  **フロントエンド（UI）の実装**
    * [ ] Streamlitを使い、UIモックアップに基づいた各画面（ダッシュボード、ログ、レポート、管理者設定）を構築する。
    * [ ] サイドバー、テーブル表示、ボタン、ポップアップなどのコンポーネントを実装する。
    * [ ] バックエンドロジックとUIを連携させ、ボタン操作などが正しく機能するようにする。
3.  **機能ごとの実装と単体テスト**
    * [ ] 機能要件（2.1.1〜2.1.9）を一つずつ実装し、個別に動作確認を行う。

### **フェーズ3: テスト (約1週間)**

1.  **結合テスト**
    * [ ] 全ての機能を組み合わせた状態で、システム全体が矛盾なく動作することを確認する。
    * [ ] 複数の管理対象PCを実際に接続し、一括操作や個別操作が正しく行えるかテストする。
2.  **シナリオテスト**
    * [ ] 「エラーが発生し、Google Chatに通知が飛び、ログ画面でAIの分析結果を確認する」といった、実際の運用を想定した一連の流れをテストする。
3.  **非機能要件のテスト**
    * [ ] UIの応答速度が要件を満たしているか確認する。
    * [ ] 管理者設定ページのパスワード認証が機能するか確認する。

### **フェーズ4: リリース・運用準備**

1.  **本番環境へのデプロイ**
    * [ ] 管理サーバー上で、NSSMを使いStreamlitアプリをWindowsサービスとして登録する。
    * [ ] サービスがPC起動時に自動で開始し、安定稼働することを確認する。
2.  **ドキュメントの整備**
    * [ ] 利用者向けに、システムの基本的な使い方をまとめた簡易マニュアルを作成する。
3.  **運用開始**
    * [ ] 関係者へ利用開始をアナウンスし、ダッシュボードのURLを共有する。

---

## 2. 必要仕様書一覧

要件定義書を元に、開発着手前に以下の詳細な仕様書を作成する。

| No. | 仕様書名 | 概要 |
| :--- | :--- | :--- |
| 1 | **画面設計書** | 各画面のレイアウト、配置するコンポーネント（ボタン、テーブル等）、画面遷移、ポップアップの動作などを定義する。UIモックアップを元に作成する。 |
| 2 | **データベース設計書** | SQLiteで管理するテーブルのスキーマを定義する。「実行結果ログテーブル」と「操作監査ログテーブル」のカラム名、データ型、制約などを記述する。 |
| 3 | **外部インターフェース設計書** | 外部APIとの連携仕様を定義する。Google Chat Webhookへ送信するJSONペイロードの形式や、Gemini APIへのリクエスト内容、レスポンスの処理方法などを記述する。 |
| 4 | **モジュール設計書** | システムを構成する主要なPythonモジュール（関数）の役割と、入出力（引数、戻り値）を定義する。リモート操作、データ管理、UI制御などのモジュールに分割する。 |